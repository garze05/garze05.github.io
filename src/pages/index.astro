---
import Layout from "../layouts/Layout.astro";
import ProfileBio from "../components/ProfileBio.astro";
import ProfileSocial from "../components/ProfileSocials.astro";
import Navigation from "../components/Navigation.astro";
import TechStack from "../components/TechStack.astro";
import Experience from "../components/Experience.astro";
import Project from "../components/Project.astro";
import WIP from "../components/WIP.astro";
---

<Layout>
	<!-- <WIP /> -->
	<div class="lg:flex lg:justify-between lg:gap-4">
		<!-- Columna izquierda-->
		<header
			class="space-y-4 lg:sticky lg:top-0 lg:flex lg:max-h-screen lg:w-[48%] lg:flex-col lg:justify-between lg:py-24"
			aria-label="Profile Header"
			role="banner"
		>
			<div class="space-y-5 md:space-y-10">
				<div class="flex flex-col">
					<ProfileBio />
				</div>

				<Navigation />
			</div>

			<ProfileSocial />
		</header>

		<!-- Columna derecha -->
		<div class="pt-24 pb-12 lg:h-full lg:w-1/2 lg:py-24 lg:pl-8">
			<main aria-label="Main Content" role="main">
				<div class="space-y-16">
					<section id="about" class="scroll-mt-32">
						<h3 class="mb-4 text-2xl font-bold lg:hidden">ABOUT</h3>
						<p>
							I’m a developer focused on creating intuitive, human-centered solutions
							that blend thoughtful design with solid engineering. With a background
							in <strong>Graphic and Web Design</strong> from <a
								href="https://www.tec.ac.cr/fundatec"
								target="_blank">FUNDATEC</a
							> and currently studying <strong>Computer Engineering</strong> at <a
								href="https://www.ulacit.ac.cr"
								target="_blank">ULACIT</a
							>, I bring both creative and analytical thinking to every project.
						</p>
						<p>
							At <a href="https://www.ufinet.com" target="_blank">UFINET</a>, I
							contribute to software quality tools as an intern while expanding my
							skills as a future Full Stack Developer. I’m driven by curiosity, a
							desire to grow, and a commitment to building tech that positively
							impacts people.
						</p>
						<p>
							Outside of work, you’ll find me at the gym, learning, or creating side
							projects that challenge and inspire me.
						</p>
					</section>

					<section id="projects" class="scroll-mt-32 lg:mt-32">
						<h3 class="mb-4 text-2xl font-bold lg:hidden">PROJECTS</h3>
						<Project
							imagePath="/src/assets/projects/okidoki.png"
							altText="Okidoki project screenshot"
							title="OkiDoki Costa Rica"
							tags={[
								"React",
								"JavaScript",
								"Tailwind CSS",
								"Astro",
								"Node.js",
								"Express",
								"MySQL",
								"Prisma"
							]}
							description="Landing page for a mascot costume business. Features a searchable service catalog powered by an API and a dashboard for managing services with full CRUD functionality."
							,
							link="https://www.okidokicr.com"
						/>
						<Project
							imagePath="/src/assets/projects/randquote.png"
							altText="Random Quote Generator project screenshot"
							title="Randquote"
							tags={["Node.js", "JavaScript", "JSON"]}
							description="A console app that delivers personalized inspirational quotes based on your name and favorite topics. Saves your preferences for future runs and greets you with a unique welcome and goodbye every time."
							,
							link="https://github.com/garze05/Randquote"
						/>
					</section>

					<section id="experience" class="scroll-mt-32 lg:mt-32">
						<h3 class="mb-4 text-2xl font-bold lg:hidden">EXPERIENCE</h3>
						<ol class="group/list space-y-6">
							<li class="group/item">
								<Experience
									title="Software Engineer Intern"
									company="UFINET"
									description="Developed a program to parse JSX and Katalon Studio Objects for software automation testing component detection."
									yearStart="2025"
									tags={[
										"JavaScript",
										"HTML5",
										"CSS",
										"Node.js",
										"Electron",
										"Babel/Parser",
										"Katalon Studio"
									]}
									url="https://www.ufinet.com"
								/>
							</li>
							<li class="group/item">
								<Experience
									title="Frontend Developer"
									company="Avalantec"
									description="Designed and developed a calendar application for managing events and tasks for a healthcare management system."
									yearStart="2023"
									yearEnd="2024"
									tags={[
										"Angular",
										"JavaScript",
										"TypeScript",
										"Tailwind CSS",
										"Bootstrap",
										"Node.js",
										"Express"
									]}
									url="https://www.avalantec.com"
								/>
							</li>
						</ol>
					</section>

					<section id="techstack" class="scroll-mt-32 lg:mt-32">
						<h3 class="mb-4 text-2xl font-bold lg:hidden">TECH STACK</h3>
						<TechStack />
					</section>
				</div>
			</main>
			<footer class="mt-15 max-w-sm">
				<p>
					Coded in <a href="https://code.visualstudio.com/" target="_blank"
						>Visual Studio Code</a
					>, built with <a href="https://astro.build/" target="_blank">Astro</a> and <a
						href="https://tailwindcss.com/"
						target="_blank">Tailwind CSS</a
					>, deployed on
					<a href="https://pages.github.com/" target="_blank">Github Pages</a>.
				</p>
				<br />
				<p>
					Design inspired by <a href="https://brittanychiang.com/" target="_blank"
						>Brittany Chiang's</a
					> Portfolio.
				</p>
			</footer>
		</div>
	</div>
</Layout>

<script>
	document.addEventListener("DOMContentLoaded", () => {
		const sections = document.querySelectorAll("main section[id]");
		const navLinks = document.querySelectorAll("header nav a");

		const observerOptions = {
			root: null, // relative to the viewport
			rootMargin: "0px",
			threshold: 0.6 // 60% of the section must be visible
		};

		const observer = new IntersectionObserver((entries) => {
			entries.forEach((entry) => {
				if (entry.isIntersecting) {
					const currentId = entry.target.id;
					navLinks.forEach((link) => {
						link.classList.remove("active");
						// Check if the link's href matches the section's id
						if (link.getAttribute("href") === `#${currentId}`) {
							link.classList.add("active");
						}
					});
				}
			});
		}, observerOptions);

		sections.forEach((section) => {
			observer.observe(section);
		});
	});
</script>

<style>
	footer p {
		font-size: 0.75rem;
		margin-block: 0;
	}
</style>
